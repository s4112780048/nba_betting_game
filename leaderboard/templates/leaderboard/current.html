{% extends "base.html" %}

{% block title %}æœ¬æœˆæ’è¡Œæ¦œ{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h3 class="m-0">ğŸ† æœ¬æœˆæ’è¡Œæ¦œ</h3>
  <div class="text-muted small">{{ month }}</div>
</div>

<div class="card p-3">
  <div class="table-responsive">
    <table class="table table-sm align-middle mb-0">
      <thead>
        <tr>
          <th style="width:60px;">#</th>
          <th>ç©å®¶</th>
          <th class="text-end" style="width:90px;">å‹</th>
          <th class="text-end" style="width:90px;">æ•—</th>
          <th class="text-end" style="width:110px;">ä¸‹æ³¨é‡</th>
          <th class="text-end" style="width:120px;">Profit</th>
        </tr>
      </thead>
      <tbody>
      {% for row in rows %}
        <tr>
          <td class="text-muted small">{{ forloop.counter }}</td>

          <td class="fw-semibold">
            {{ row.user.username }}
            {# âœ… å¾Œé¢é¡¯ç¤ºè£å‚™å¾½ç«  #}
            {% if row.user.equipped_badges and row.user.equipped_badges.0.badge %}
              <span class="ms-1" title="{{ row.user.equipped_badges.0.badge.name }}">
                {{ row.user.equipped_badges.0.badge.emoji }}
              </span>
            {% endif %}
          </td>

          <td class="text-end">{{ row.wins }}</td>
          <td class="text-end">{{ row.losses }}</td>
          <td class="text-end">{{ row.volume }}</td>
          <td class="text-end fw-semibold">{{ row.profit }}</td>
        </tr>
      {% empty %}
        <tr><td colspan="6" class="text-muted">æœ¬æœˆå°šç„¡æ’è¡Œè³‡æ–™</td></tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}

