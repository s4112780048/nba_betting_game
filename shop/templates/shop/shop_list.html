{% extends "base.html" %}
{% block title %}Shop{% endblock %}
{% block content %}
<h3 class="mb-3">ğŸ›’ å•†åº—</h3>

<div class="row g-3">
  {% for it in items %}
    <div class="col-md-4">
      <div class="card p-3 h-100">
        <div class="d-flex justify-content-between align-items-center">
          <h5 class="m-0">{{ it.name }}</h5>
          <span class="badge bg-warning text-dark">{{ it.price }}</span>
        </div>

        {% if it.description %}
          <p class="text-muted mt-2">{{ it.description }}</p>
        {% endif %}

        <div class="mt-auto">
          {% if user.is_authenticated %}
            <form method="post" action="{% url 'shop:buy' it.id %}">
              {% csrf_token %}
              <button class="btn btn-warning w-100" type="submit">è³¼è²·</button>
            </form>
          {% else %}
            <a class="btn btn-outline-light w-100" href="{% url 'account_login' %}">ç™»å…¥å¾Œè³¼è²·</a>
          {% endif %}
        </div>
      </div>
    </div>
  {% empty %}
    <div class="text-muted">ç›®å‰æ²’æœ‰å•†å“ï¼ˆå¯å…ˆåˆ° admin å»ºå•†å“ï¼‰</div>
  {% endfor %}
</div>
{% endblock %}
